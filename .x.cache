{"requires":["base64-stream@~0.1.2"],"nodes":{"3d7a37f6-cdf7-4344-9f59-5035ba48ce83":{"id":"3d7a37f6-cdf7-4344-9f59-5035ba48ce83","title":"StdIn","ns":"stream","name":"stdin","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json"},"9e083de2-3ee8-4d4b-a894-209b489f592d":{"id":"9e083de2-3ee8-4d4b-a894-209b489f592d","title":"StdOut","ns":"stream","name":"stdout","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json"},"59f9acfb-e970-4095-af9c-6d9e7da4d147":{"id":"59f9acfb-e970-4095-af9c-6d9e7da4d147","title":"Gzip","ns":"stream","name":"gzip","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json"},"3561ef27-734c-4bd7-8fd2-d904e01e77a4":{"id":"3561ef27-734c-4bd7-8fd2-d904e01e77a4","title":"OnData","ns":"stream","name":"onData","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json"},"05af4e8d-8361-4c93-92a7-11344c378e1b":{"id":"05af4e8d-8361-4c93-92a7-11344c378e1b","title":"ReadStream","ns":"fs","name":"createReadStream","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json"},"310396ac-fbd0-4f05-a74a-2fc0188e2bf9":{"id":"310396ac-fbd0-4f05-a74a-2fc0188e2bf9","title":"OnEnd","ns":"stream","name":"onEnd","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json"},"c9118668-261d-4258-96b4-ce7b4f1c312e":{"id":"c9118668-261d-4258-96b4-ce7b4f1c312e","title":"B64E","ns":"stream","name":"base64Encode","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json"},"bc495533-1474-4d97-9a51-e237636635ba":{"id":"bc495533-1474-4d97-9a51-e237636635ba","title":"Done","ns":"console","name":"log","context":{"msg":"Done"},"provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json"}},"nodeDefinitions":{"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json":{"stream":{"stdin":{"name":"stdin","ns":"stream","description":"Read for stdin","phrases":{"active":"Reading stdin..."},"expose":["process"],"ports":{"input":{"encoding":{"title":"Encoding","type":"string","default":"utf-8"}},"output":{"stream":{"title":"Stream","type":"Stream"}}},"fn":"// test\nprocess.stdin.resume();\nprocess.stdin.setEncoding(input.encoding);\noutput.stream = process.stdin;\n","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json","title":"StdIn"},"stdout":{"name":"stdout","ns":"stream","description":"Write for stdin","async":true,"phrases":{"active":"Writing to stdout..."},"expose":["process"],"ports":{"input":{"in":{"title":"Input","type":"any"}},"output":{}},"fn":"on.input.in = function() {\n  process.stdout.write(data);\n};\n","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json","title":"StdOut"},"gzip":{"name":"gzip","ns":"stream","description":"Gzip pipe","phrases":{"active":"Gzipping..."},"require":{"zlib":"builtin"},"ports":{"input":{"stream":{"title":"Stream","type":"Stream","required":true}},"output":{"stream":{"title":"Stream","type":"Stream"}}},"fn":"output.stream = input.stream.pipe(zlib.createGzip());\n","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json","title":"Gzip"},"onData":{"name":"onData","ns":"stream","description":"On Data","phrases":{"active":"Doing on data..."},"ports":{"input":{"stream":{"title":"Stream","type":"Stream","required":true}},"output":{"out":{"title":"Output","type":"any"}}},"fn":"output = function(cb) {\n  input.stream.on('data', function(chunk) {\n    cb({ out: chunk } );\n  });\n};\n","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json","title":"OnData"},"onEnd":{"name":"onEnd","ns":"stream","description":"On End","phrases":{"active":"Stream is ending..."},"ports":{"input":{"stream":{"title":"Stream","type":"Stream","required":true}},"output":{"out":{"title":"Output","type":"any"}}},"fn":"output = function(cb) {\n  input.stream.on('end', function(chunk) {\n\n    cb({ out: chunk } );\n\n    done();\n\n  });\n};\n","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json","title":"OnEnd"},"base64Encode":{"name":"base64Encode","ns":"stream","description":"Base64 encode stream","phrases":{"active":"Encoding to base64..."},"require":{"base64-stream":"~0.1.2"},"ports":{"input":{"stream":{"title":"Stream","type":"Stream","required":true}},"output":{"stream":{"title":"Stream","type":"Stream"}}},"fn":"output.stream = input.stream.pipe(base64_stream.encode());\n","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json","title":"B64E"}},"fs":{"createReadStream":{"name":"createReadStream","ns":"fs","title":"ReadStream","description":"Creats a Readable Stream Object","phrases":{"active":"Reading file {{input.file}} ({{input.encoding}})"},"require":{"fs":"builtin"},"ports":{"input":{"file":{"title":"Filename","type":"string","required":true},"start":{"title":"Start","type":"number","default":null},"end":{"title":"End","type":"number","default":null},"encoding":{"title":"Encoding","type":"string","default":"utf-8"},"flag":{"title":"Flag","type":"string","default":"r"}},"output":{"error":{"type":"object"},"fd":{"type":"number","title":"File descriptor"},"stream":{"type":"Stream"}}},"env":"server","fn":"output = function(cb) {\n\n  var opts = {\n    flag: input.flag,\n    encoding: input.encoding\n  };\n\n  if(input.start) opts.start = input.start;\n  if(input.end) opts.end = input.end;\n\n  var stream = fs.createReadStream(input.file, opts);\n  cb({ stream: stream});\n\n  stream.on('error', function(err) {\n    cb({ error: err});\n  });\n\n  stream.on('open', function(fd) {\n    cb({ fd: fd});\n  });\n\n};\n","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json"}},"console":{"log":{"name":"log","ns":"console","description":"Console log","async":true,"phrases":{"active":"Logging to console"},"ports":{"input":{"msg":{"type":"any","title":"Log message","description":"Logs a message to the console","async":true,"required":true}},"output":{}},"fn":"on.input.msg = function() {\n  console.log(data)\n}\n","provider":"https://raw.github.com/psichi/chix-platform/master/nodes/{ns}/{name}.json","title":"Done"}}}}}